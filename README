# Setup : 
1. Install the extension - plawright test for vs code
2. press ctrl+shift+p  and type install plawright
3. uncheck the github flow and press ok, the required installations start installing 

# Using Command prompt:
1. write npm init playwright@latest

# Commands we use daily :-
  1. npx playwright test
    Runs the end-to-end tests.

  2. npx playwright test --ui
    Starts the interactive UI mode.

  3. npx playwright test --project=chromium
    Runs the tests only on Desktop Chrome.

  4. npx playwright test example
    Runs the tests in a specific file.

  5. npx playwright test --debug
    Runs the tests in debug mode.

  6. npx playwright codegen
    Auto generate tests with Codegen.

  7. npx playwright show-report
    redirect to html test report in the browser
  
  
  8. npx playwright test --headed --ui
    or in config:
    use: { headless: false, launchOptions: { slowMo: 300 } }
    to run the test in ui mode 

# We suggest that you begin by typing:

    npx playwright test

# And check out the following files:
  - .\tests\example.spec.ts - Example end-to-end test
  - .\playwright.config.ts - Playwright Test configuration

# Visit https://playwright.dev/docs/intro for more information. ✨

# Recording and generating the Test Cases:- 

  under the testing extension -> at bottom PLAYWRIGHT -> Under the tools -> select Record new

# Running the test cases on different Browsers :-

1.  under the testing extension -> at bottom PLAYWRIGHT -> Under the projects -> select the browser on which you want to test
2.  undet the config.ts, goto the projects and uncomment the browsers you need and comment out that you dont need

# Making the HTML Report in human readable form :-

1. Under your test file -> inside the function write the below code for each step and this make html into humand readable form

    await test.step("Message you want to see on report", async () => {

      "Your code you want to execute in this step"
      
    })

# Using Record at Cursor 

1. under the testing extension -> at bottom PLAYWRIGHT -> Under the tools -> select the record at cursor
2. it will start adding the code into the file from where you keep the your mouse cursor

# Run a specific test file 

1. In the terminal enter the below command :-

     npx playwright test filelocation/file name

     for example :-  npx playwright test chapter1/2_Rec_Curs.spec.ts

# Run a test script on specific browser

1. open the terminal and use the below command 

     npx playwright test chapter1/2_Rec_Curs.spec.ts --project='$'
     $ = your browser name under the projects in config.ts

# Using the Codegen

1. In terminal type the command npx playwright codegen
2. now test the scenario you want to test as you test under the recording 
3. it will generate code parallely, keep in mind dont close the browser until you dont copy your code 
4. Create a new file and paste the copied there and happy testing

# Adding the screenshots

1. we can use screenshot function for taking the screenshot.
2. it basically need one parameter path which contain the location to save the file
3. also we can pass a flag named fullpage : true to take full page screen shot

    await page.screenshot({path:'folder_name/image_name.png',fullPage:true})

    Example : await test.step("Adding the full page Screenshot", async()=>{
              await page.screenshot({path:'screenshots/fullpagescreenshot.png',fullPage:true})
              })

# Adding the screenshots into html report from config.js

1. goto config.ts and under it goto use.
2. add a parameter named screeshot to it 
3. you can give 4 value to this :-
    off || on || on-first-failure || only-on-failure
4. now run your script and check the report ss is now there 

# Locators in Playwright : -

1. Role-based Locators:-

  page.getByRole('button', { name: 'Submit' });
  page.getByRole('link', { name: /Sign in/i });
  page.getByRole('checkbox', { checked: true });

2. Text-based Locators :-

  page.getByText('Welcome');
  page.getByText(/Hello World/i);

3. Label-based Locators:-

  page.getByLabel('Username');
  page.getByLabel(/Password/i);

4. Placeholder-based Locators:-

  page.getByPlaceholder('Enter your email');

5. Alt Text Locators(Image):-

  page.getByAltText('Company Logo');

6.  Title-based Locators:-

  page.getByTitle('Close');

7.  Test ID Locators:- need to update in config.ts

  page.getByTestId('submit-button');

8. CSS Selectors:-

  page.locator('.btn-primary');
  page.locator('#username');
  page.locator('input[type="text"]');

9. XPath Selectors:-

  page.locator('//button[text()="Submit"]');

10. ✅ Chained Locators:- 

  page.getByRole('list').getByText('Item 1');


11. nth() for Indexing:-

  page.locator('li').nth(2); // third list item


12. Filter Locators :-

  page.locator('button').filter({ hasText: 'Save' });
  page.locator('div').filter({ has: page.locator('span') });


13. Frame Locators:-

  page.frameLocator('#my-frame').getByText('Inside Frame');


14. Combining Locators :-

  page.locator('form >> text=Submit');


# Hooks :- They are special functions which run before and after the test cases

1. Hooks are of 4 types :
. beforeAll
. beforeEach
. afterAll
. afterEach

2. Below is the example of all the four types 

  test.beforeAll(async()=>{
    console.log("Running before all the test cases")
});

test.afterAll(async()=>{
    console.log("Running after all the test cases")
});

test.beforeEach(async({page})=>{
    console.log("Running before each  test cases")
    await page.goto("https://practice.expandtesting.com/")
});

test.afterEach(async()=>{
    console.log("Running after each test cases")
});

3. the test will run in parallel execution, so in order to prevent it u have to changes workers attribute to 1 in config.ts under defineconfig function under the parallel test on CI comment

# Dropdown in playwright 

--> You can refer 3_Dropdown.spec.ts file under chapter 2 folder under the tests folder

# iframes and Drag drop 

--> for locating iframe, we use frameLocator function
--> for drag and drop, we use dragTo function 
--> refer 4_Iframe_DragDrop file under chapter 2 under tests folder

# using the mouse actions, hover and doubleclick

--> we can pass the button parameter inside the click function and metion which button to be clicked 
--> for hover, we can directly use the hover function
--> for doubleclick, we can directly use the dblclick function
--> refer 5_Mouseaction file under chapter 2 under tests folder

# using the Keyboard actions

--> we can use page.keyboard.press function to use keyboard actions
--> refer 6_Keyboardaction file under chapter 2 under tests folder

# handling the date field 

--> Its just simple click and fill option
--> refer 7_Datefield file under chapter 2 under tests folder


# Hard and soft Assertion

✅ Hard Assertions

Definition: When an assertion fails, the test immediately stops execution and is marked as failed.
Behavior:

Stops at the first failure.
Subsequent steps in the same test are not executed.


Use Case:

Critical checks where continuing the test makes no sense (e.g., login must succeed before proceeding).


Example (Playwright / Jest):
await expect(page.locator('#username')).toBeVisible(); // If fails, test stops hereShow more lines



✅ Soft Assertions

Definition: When an assertion fails, the test continues execution, and all failures are collected and reported at the end.
Behavior:

Allows multiple validations in one test without stopping at the first failure.
Useful for UI validations or data checks.


Use Case:

Non-critical checks or when you want a full report of all mismatches.


Example (Playwright with soft option):

await expect.soft(page.locator('#username')).toBeVisible(); // Test continues even if fails
await expect.soft(page.locator('#password')).toBeVisible();

# Adding the trace viewer in HTML report 

--> under the config.ts --> under the use section --> change the trace to on
use: {
    trace: 'on',
    headless: false, 
    launchOptions: { slowMo: 300 },
  },


# Annotations 

--> to skip a particular test case we use TEST.SKIP
--> to run a particular test case we TEST.ONLY
--> for reference, refer chapter3/1_Annotations

# Grouping of test cases

--> to group test cases we TEST.DESCRIBE
--> for reference, refer chapter3/2_Grouping

# Adding the tags 

--> to give tags to test cases we pass a object in test function and add tag parameter in it
--> for reference, refer chapter3/3_tags
--> to run the tagged test type below command in cli
npx playwright test --grep '@tagname '


# Repeat the test cases 

--> enter the below command in cli in the end of the command --repeat-each= No. of time you want to repeat
npx playwright test --grep '@RegressionTesting' --repeat-each=2


# Retry testcase on failure 

/* Retry on CI only */
  retries: process.env.CI ? 2 : 0,


update this in config file to retry test on the failure

/* Retry on CI only */
  retries: process.env.CI ? 2 : 1,

# Parameterize test cases:

--> create an array of the data you want to pass
--> start a for loop on the array and pass test function into it 
--> now use the local variable inside the fuction where you want to pass the data
--> for reference, refer chapter3/5_Parameterize

# Visual Testing 

--> for reference, refer chapter3/6_Visualtest

# Working with timeouts

--> there are many timeouts but frequently we use 4 
1. test timeout
2. expect timeout
3. action timeout
4. global timeout

--> for reference, refer chapter3/7_timout and config.ts

# added the config.json file and src folder 

tsconfig.json is for TypeScript compiler settings. It controls how TypeScript code is parsed and type-checked across your project—things like module type (ESM/CJS), target JavaScript version, strictness, path aliases, and type libraries. It ensures your IDE and tsc know how to handle your code.


playwright.config.ts is for Playwright test runner settings. It defines how tests run—test directories, timeouts, retries, browsers/devices, baseURL, tracing, screenshots, and reporters. It does not affect TypeScript compilation.


You need both because one manages code typing and compilation, and the other manages test execution behavior.


# browser context and new tabs

---> refer to file chapter4/1_Context.spec.ts
--> we pass the browser object in the function 
--> then we create a new context using browser
--> then we create a new page using that context
--> then also we create new tab using the newpage under the same context


# Rerun the only failed test cases

--> to rerun the only failed test cases use below command 

npx playwright test --last-failed

--> for example : - npx playwright test chapter4 --last-failed  

# Handling different kind of alerts 

--> by page.once we can handle different type of alerts 
--> for more refer chapter4/ 3_Alerts.spec.ts

# handling the radio buttons and check boxes

--> we use .check function to check radio or check box
--> refer chapter4/4_Radio.spec.ts

# Iteration over the mutiple elements 

--> we use three way for iteration 
--> refer chapter4/5_Iteration.spec.ts

# working with textcontent, innertext and attribute 

--> we use the .textContent(), innerText(), .getAttribute() respectively
--> refer chapter4/6_textcontent.spec.ts


# Allure reports 

--> install allure report cmd line tool
 npm install -g -save-dev allure-commandline

--> install the allure playwright adapter
  npm install --save-dev allure-playwright

-->add the below config in config.ts
  reporter:[
    ['allure-playwright']
  ]

--> run test script
  npx playwright test

--> generate allure report
  npx allure serve allure-results
  or
  allure generate allure-results --clean
  allure open

# parallelism test execution

--> we can change the number in the config.ts file
or
--> we can achieve it  through the commmand --workers No. of workers
ex:- npx playwright test chapter3/2_Grouping.spec.ts --workers 3

# video recording 

--> update the below config in config.ts
  use : {
    video :'on',
  }
  it will attach video to html report also


# Creating different types of the test reports 

--> for different types of the test report, we have to make changes in the config.ts file 
--> we can generater list,dot,json,junit,allure reports 
--> below is the configuration code

reporter: [['html'],
  ['allure-playwright'],
  ['list'],
  ['dot'],
  ['json', { outputFile: 'test-results.json' }],
  ['junit', { outputFile: 'junit.xml' }]  
],

# Getting the data from env file

--> first install the dotenv using this command:- npm install dotenv --save
--> import dotenv from 'dotenv';
import path from 'path';
dotenv.config({ path: path.resolve(__dirname, '.env') }); 
uncomment the above three lines from config.ts
--> add an env variable in .env file 
--> use the variable using process.env.VARIABLE_NAME
--> refer chapter5/1_RunEnv.spec.ts

# Data driven testing using Json file 

--> refer chapter5/2_DataJson.spec.ts


# Data driven testing using CSV file

--> install the csv parser, using this command :- npm install csv-parse --save
--> refer chapter5/3_DataCsv.spec.ts

# Data driven testing using excel file 
--> install the xlsx, using this command :- npm install xlsx --save
--> create a helper functions under the utils under the src folder
--> --> refer chapter5/4_DataXlsx.spec.ts
